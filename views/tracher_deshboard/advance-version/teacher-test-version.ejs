<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Teacher's Advanced Dashboard with Test Services</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/teacher-advance.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  
</head>

<body>
    <script>
    const TEACHER_ID = "<%= teacher._id %>";
</script>

    <div class="main-container">
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        <!-- Fixed Header -->
        <header>
            <button id="toggleSidebar" class="toggle-btn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo">
                <i class="fas fa-chalkboard-teacher"></i>
                <h1>Teacher's Advanced Dashboard</h1>
            </div>
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">
                    <i class="fas fa-user" id="avatarIcon"></i>
                </div>
                <div>
                    <div>Welcome, <strong>
                            <%= teacher.name %>
                        </strong></div>

                    <div style="font-size: 0.9rem;" id="account-status">Free Account</div>
                </div>
            </div>

        </header>
        <!-- Sticky Top Navbar -->
        <div class="top-navbar">
            <ul>
                <li class="nav-item locked" id="top-nav-ppt">
                    <a href="#">
                        <i class="fas fa-file-powerpoint"></i>
                        <span>Create PPT</span>
                        <i class="fas fa-lock lock-icon"></i>
                    </a>
                </li>

                <li class="nav-item locked" id="top-nav-research">
                    <a href="#">
                        <i class="fas fa-file-pdf"></i>
                        <span>Research Papers</span>
                        <i class="fas fa-lock lock-icon"></i>
                    </a>
                </li>

                <li class="nav-item locked" id="top-nav-birthday">
                    <a href="#">
                        <i class="fas fa-birthday-cake"></i>
                        <span>Birthday Software</span>
                        <i class="fas fa-lock lock-icon"></i>
                    </a>
                </li>

                <li class="nav-item locked" id="top-nav-tests">
                    <a href="#">

                        <i class="fas fa-file-alt"></i>
                        <span>Create Tests</span>
                    </a>
                </li>


                <li class="nav-item locked" id="top-nav-templates">
                    <a href="#" id="top-nav-templates-link">
                        <i class="fas fa-layer-group"></i>
                        <span>Assignment Creator</span>
                        <i class="fas fa-lock lock-icon"></i>
                    </a>
                </li>

                <li class="nav-item locked" id="top-nav-alerts">
                    <a href="#">
                        <i class="fas fa-envelope"></i>
                        <span>Email/SMS Alerts</span>
                        <i class="fas fa-lock lock-icon"></i>
                    </a>
                </li>

                <li class="nav-item locked" id="top-nav-python">
                    <a href="#" id="top-nav-python-link">
                        <i class="fas fa-language"></i>
                        <span>Translator</span>
                        <i class="fas fa-lock lock-icon"></i>
                    </a>
                </li>

                <li class="nav-item locked" id="top-nav-calculator">
                    <a href="#">
                        <i class="fas fa-calculator"></i>
                        <span>Calculator</span>
                        <i class="fas fa-lock lock-icon"></i>
                    </a>
                </li>
            </ul>
        </div>

        <div class="main-content">
            <!-- Fixed Sidebar -->
            <nav class="sidebar" id="sidebar">
                <h3>Teacher Panel</h3>
                <ul class="nav-menu">



                    <!-- Dashboard -->
                    <li class="nav-item locked" id="nav-dashboard">
                        <a href="#">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <!-- ================= Teaching Tools ================= -->
                    <li class="nav-section-title">Teaching Tools</li>

                    <li class="nav-item locked" id="nav-tests-sidebar">
                        <a href="#">

                            <i class="fas fa-file-alt"></i>
                            <span>Create Tests</span>
                        </a>
                    </li>


                    <li class="nav-item locked" id="nav-test-services">
                        <a href="#">
                            <i class="fas fa-clipboard-list"></i>
                            <span>Test Category</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <li class="nav-item locked" id="nav-templates-sidebar">

                        <a href="#">
                            <i class="fas fa-layer-group"></i>
                            <span>Assignment Creator</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>
                    <li class="nav-item locked" id="nav-analytics">
                        <a href="#">
                            <i class="fas fa-chart-line"></i>
                            <span>Result</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>


                    <!-- ================= Academic Resources ================= -->
                    <li class="nav-section-title">Academic Resources</li>

                    <li class="nav-item locked" id="nav-ebooks">
                        <a href="/ebook">
                            <i class="fas fa-book"></i>
                            <span>E-Book Library</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <li class="nav-item locked" id="nav-research">
                        <a href="#">
                            <i class="fas fa-file-pdf"></i>
                            <span>Research Papers</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <li class="nav-item locked" id="nav-notes">
                        <a href="#">
                            <i class="fas fa-book-open"></i>
                            <span>Notes Upload & Share</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>


                    <li class="nav-item locked" id="nav-previous">
                        <a href="#">
                            <i class="fas fa-folder-open"></i>
                            <span>Previous Year Papers</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>


                    <li class="nav-item locked" id="nav-syllabus">
                        <a href="#">
                            <i class="fas fa-list"></i>
                            <span>Syllabus Manager</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>


                    <!-- ================= Smart Tools ================= -->
                    <li class="nav-section-title">Smart Tools</li>

                    <li class="nav-item locked" id="nav-ai">
                        <a href="#">
                            <i class="fas fa-robot"></i>
                            <span>AI Assistant</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <li class="nav-item locked" id="nav-calculator">
                        <a href="#">
                            <i class="fas fa-calculator"></i>
                            <span>Calculator</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <li class="nav-item locked" id="nav-python-sidebar">

                        <a href="#">
                            <i class="fas fa-language"></i>
                            <span>Translator</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>


                    <!-- ================= Planning ================= -->
                    <li class="nav-section-title">Planning</li>

                    <li class="nav-item locked" id="nav-calendar">
                        <a href="#">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Calendar</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <li class="nav-item locked" id="nav-birthday">
                        <a href="#">
                            <i class="fas fa-birthday-cake"></i>
                            <span>Birthday Software </span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <!-- ================= Communication Tools ================= -->
                    <li class="nav-section-title">Communication</li>

                    <li class="nav-item locked" id="nav-announcement">
                        <a href="#">
                            <i class="fas fa-bullhorn"></i>
                            <span>Announcement System</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>

                    <li class="nav-item locked" id="nav-alerts">
                        <a href="#">
                            <i class="fas fa-envelope"></i>
                            <span>Email/SMS Alerts</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>


                    <!-- ================= Settings ================= -->
                    <li class="nav-section-title">Account</li>

                    <li class="nav-item locked" id="nav-settings">
                        <a href="#">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                            <i class="fas fa-lock lock-icon"></i>
                        </a>
                    </li>
                    <!-- Payment -->
                    <li class="nav-item active" id="nav-payment">
                        <a href="#">
                            <i class="fas fa-credit-card"></i>
                            <span>Payment</span>
                        </a>
                    </li>

                </ul>
            </nav>


            <!-- Content Area -->
            <div class="content-area">

                <!-- Scrollable Content -->
                <div class="page-content-wrapper">
                    <!-- Payment Section -->
                    <div id="payment-section">
                        <div class="page-title">
                            <i class="fas fa-credit-card"></i>
                            <h2>Complete Payment to Access All Features</h2>
                        </div>

                        <div class="card payment-section">
                            <div class="payment-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <h3>Upgrade to Premium Version</h3>
                            <p><strong>Current Status: <span id="current-status">Free Account (Limited
                                        Features)</span></strong></p>
                            <p>Complete payment to unlock all premium features including:</p>
                            <ul style="text-align: left; margin: 15px 0; padding-left: 20px;">
                                <li>Unlimited Test Creation</li>
                                <li>Test Services Dashboard</li>
                                <li>Automatic Template Creation</li>
                                <li>Python Test Service</li>
                                <li>View All Tests by Template</li>
                                <li>Result Sections </li>
                                <li>Priority Support</li>
                            </ul>
                            <p><strong>Total: ₹ 0 (One Month Free)</strong></p>

                            <p><strong>Total: <i class="fas fa-indian-rupee-sign"></i> 499/year (One Time
                                    Payment)</strong></p>

                            <button class="payment-btn" id="make-payment">
                                <i class="fas fa-lock-open"></i> Complete Payment Now
                            </button>
                            <div style="margin-top: 15px; font-size: 0.9rem; color: #7f8c8d;">
                                <i class="fas fa-info-circle"></i> After payment, all features will be unlocked
                                immediately
                            </div>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-ban"></i> Currently Locked Features</h3>
                            <div class="service-stats">
                                <div class="stat-card">
                                    <div class="stat-number">0</div>
                                    <div>Tests Created</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number">0</div>
                                    <div>Templates Available</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number">0</div>
                                    <div>Subjects Unlocked</div>
                                </div>
                            </div>
                            <p style="text-align: center; margin-top: 15px; color: #e74c3c;">
                                <i class="fas fa-exclamation-triangle"></i> Complete payment to unlock these features
                            </p>
                        </div>
                    </div>

                    <!-- Dashboard Section with Animations -->
                    <div id="dashboard-section" class="hidden fade-in-up">
                        <div class="lock-overlay" id="dashboard-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Dashboard Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to access the advanced dashboard.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;"
                                    id="goto-payment-from-dashboard">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-tachometer-alt"></i>
                            <h2>Advanced Dashboard</h2>
                        </div>

                        <!-- Welcome Card with Animation -->
                        <div class="dashboard-welcome">
                            <div class="welcome-icon pulse">
                                <i class="fas fa-chalkboard-teacher"></i>
                            </div>
                            <h1 class="welcome-title">Welcome, <%= teacher.name %> to Your Teaching Dashboard</h1>
                            <p class="welcome-text">
                                Monitor your teaching progress, track student engagement, and manage all your tests
                                from one centralized dashboard. Everything you need to streamline your teaching
                                workflow.
                            </p>
                        </div>

                        <!-- Animated Stats Cards -->
                        <div class="animated-stats-grid">
                            <div class="animated-stat-card">
                                <i class="fas fa-file-alt" style="color: #3498db; font-size: 1.3rem;"></i>
                                <div class="animated-stat-number" id="total-tests">0</div>
                                <div class="animated-stat-label">Total Tests Created</div>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <span>Progress</span>
                                        <span id="tests-progress-text">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill tests" id="tests-progress">
                                            <div class="progress-value" id="tests-progress-value">0%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="animated-stat-card">
                                <i class="fas fa-question-circle" style="color: #2ecc71; font-size: 1.3rem;"></i>
                                <div class="animated-stat-number" id="total-questions">0</div>
                                <div class="animated-stat-label">Total Student Attan Test</div>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <span>Progress</span>
                                        <span id="questions-progress-text">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill questions" id="questions-progress">
                                            <div class="progress-value" id="questions-progress-value">0%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="animated-stat-card">
                                <i class="fas fa-layer-group" style="color: #9b59b6; font-size: 1.3rem;"></i>
                                <div class="animated-stat-number" id="active-templates">0</div>
                                <div class="animated-stat-label">Active Templates</div>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <span>Progress</span>
                                        <span id="templates-progress-text">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill templates" id="templates-progress">
                                            <div class="progress-value" id="templates-progress-value">0%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Chart Section -->
                        <div class="chart-container">
                            <div class="chart-title">
                                <i class="fas fa-chart-line"></i>
                                <span>Monthly Test Creation Activity</span>
                            </div>
                            <div class="chart" id="activity-chart">
                                <!-- Chart bars will be dynamically created -->
                            </div>
                        </div>


                    </div>

                    <!-- Create Tests Section -->
                    <div id="create-test-section" class="hidden">
                        <div class="lock-overlay" id="create-test-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Test Creation Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to create unlimited tests.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;" id="goto-payment-from-tests">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-file-alt"></i>
                            <h2>Create New Test Cards</h2>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-plus-circle"></i> Test Details</h3>
                            <form id="test-creation-form" class="test-form">
                                <div class="form-group">
                                    <label for="test-name">Test Name</label>
                                    <input type="text" id="test-name" placeholder="Enter test name" required disabled>
                                </div>

                                <div class="form-group">
                                    <label for="test-subject">Subject (Type any subject)</label>
                                    <input type="text" id="test-subject"
                                        placeholder="Enter any subject (e.g., Mathematics, Science, etc.)" required
                                        disabled>
                                </div>

                                <div class="form-group">
                                    <label for="test-duration">Duration (minutes)</label>
                                    <input type="number" id="test-duration" min="5" max="180" value="60" disabled>
                                </div>

                                <div class="form-group">
                                    <label for="test-difficulty">Difficulty Level</label>
                                    <select id="test-difficulty" disabled>
                                        <option value="Beginner">Beginner</option>
                                        <option value="Intermediate" selected>Intermediate</option>
                                        <option value="Advanced">Advanced</option>
                                    </select>
                                </div>

                                <div class="form-group full-width">
                                    <label for="test-description">Test Description</label>
                                    <textarea id="test-description" placeholder="Describe what this test covers..."
                                        disabled></textarea>
                                </div>

                                <!-- Questions Display -->
                                <div class="form-group full-width" id="questions-display">
                                    <label>Questions Added: <span id="question-count">0</span></label>
                                    <div id="question-preview"
                                        style="max-height: 150px; overflow-y: auto; margin-top: 10px; padding: 10px; border: 1px solid #eee; border-radius: 5px; background-color: #f9f9f9;">
                                        <!-- Questions will be displayed here -->
                                    </div>
                                    <button type="button" class="btn" id="manage-questions-btn"
                                        style="margin-top: 10px; background-color: #f0f0f0; color: #333;" disabled>
                                        <i class="fas fa-edit"></i> Manage Questions
                                    </button>
                                </div>

                                <div class="form-actions">
                                    <button type="button" class="btn btn-secondary disabled" id="reset-form"
                                        disabled>Reset
                                        Form</button>
                                    <button type="submit" class="btn btn-primary disabled" disabled>Create Test
                                        Cards</button>
                                    <button type="button" class="btn btn-success disabled create-test-card-btn"
                                        id="create-test-card-btn" disabled>
                                        <i class="fas fa-plus-circle"></i> Create Test Card Only
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Quick Create Section -->
                        <div class="quick-create-section">
                            <h3><i class="fas fa-bolt"></i> Quick Create Test Card</h3>
                            <p>Quickly create a test card without filling the full form:</p>

                            <div class="quick-create-form">
                                <div class="quick-create-input">
                                    <label for="quick-test-name">Test Name</label>
                                    <input type="text" id="quick-test-name" placeholder="Enter test name" disabled>
                                </div>

                                <div class="quick-create-input">
                                    <label for="quick-subject">Subject</label>
                                    <input type="text" id="quick-subject" placeholder="Enter any subject" disabled>
                                </div>

                                <div class="quick-create-input">
                                    <label>Card Color</label>
                                    <div class="color-options" id="color-options">
                                        <div class="color-option selected" style="background-color: #e34f26;"
                                            data-color="#e34f26"></div>
                                        <div class="color-option" style="background-color: #1572b6;"
                                            data-color="#1572b6">
                                        </div>
                                        <div class="color-option" style="background-color: #f7df1e;"
                                            data-color="#f7df1e">
                                        </div>
                                        <div class="color-option" style="background-color: #339933;"
                                            data-color="#339933">
                                        </div>
                                        <div class="color-option" style="background-color: #9b59b6;"
                                            data-color="#9b59b6">
                                        </div>
                                        <div class="color-option" style="background-color: #e74c3c;"
                                            data-color="#e74c3c">
                                        </div>
                                        <div class="color-option" style="background-color: #1abc9c;"
                                            data-color="#1abc9c">
                                        </div>
                                    </div>
                                </div>

                                <button type="button" class="quick-create-btn disabled" id="quick-create-btn" disabled>
                                    <i class="fas fa-plus"></i> Quick Create
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Test Services Section -->
                    <div id="test-services-section" class="hidden">
                        <div class="lock-overlay" id="test-services-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Test Services Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to access Test Services.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;"
                                    id="goto-payment-from-test-services">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <!-- Main Test Services Dashboard -->
                        <div id="test-services-main-dashboard">
                            <div class="services-header">
                                <div class="page-title">
                                    <i class="fas fa-clipboard-list"></i>
                                    <h2>Explore Test Services</h2>
                                </div>
                                <div class="user-info"
                                    style="background-color: rgb(50, 128, 50); color:white; font-weight: bold;">
                                    <div style="font-size: 1rem;">
                                        Total Cards: <strong id="total-courses-count">8</strong>
                                    </div>
                                </div>
                            </div>

                            <div class="cards-container" id="courses-container">
                                <!-- Courses will be dynamically added here -->
                            </div>

                            <footer>
                                <p>&copy; 2026 Programming Courses Dashboard. All rights reserved.</p>
                                <p>Total Courses Available: <span id="footer-courses-count">8</span> | Last Updated:
                                    Today
                                </p>
                            </footer>
                        </div>

                        <!-- Test Services Page -->
                        <div class="service-page" id="test-services-page">
                            <div class="services-header">
                                <div class="page-title">
                                    <i class="fas fa-laptop-code"></i>
                                    <h2 id="service-page-title">Test Services</h2>
                                </div>
                                <button class="back-btn" id="back-to-dashboard" style="background-color: green;">
                                    <i class="fas fa-arrow-left"></i> <b>Back to Cards</b>
                                </button>
                            </div>



                            <div class="test-services-container" id="test-services-container">
                                <!-- Test services will be dynamically added here -->
                            </div>

                            <footer>
                                <p>&copy; 2026 Programming Courses Dashboard. All rights reserved.</p>
                                <p id="service-footer-text">Test Services for HTML</p>
                            </footer>
                        </div>
                    </div>

                    <!-- Templates Section -->
                    <div id="templates-section" class="hidden">
                        <div class="lock-overlay" id="templates-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Templates Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to access all templates.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;"
                                    id="goto-payment-from-templates">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-layer-group"></i>
                            <h2>Subject Templates</h2>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-clipboard-list"></i> All Subject Templates</h3>
                            <p>Click on any template to view all tests created from that template.</p>

                            <div class="service-stats">
                                <div class="stat-card">
                                    <div class="stat-number" id="template-test-count">0</div>
                                    <div>Total Tests Created</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="template-question-count">0</div>
                                    <div>Total Questions Created</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="template-subject-count">0</div>
                                    <div>Subjects with Templates</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Research Papers Section -->
                    <div id="research-section" class="hidden">
                        <div class="lock-overlay" id="research-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Research Papers Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to access research papers.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;"
                                    id="goto-payment-from-research">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-file-pdf"></i>
                            <h2>Research Papers Library</h2>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-upload"></i> Upload Research Paper</h3>
                            <div class="form-group">
                                <label>Paper Title</label>
                                <input type="text" id="research-title" placeholder="Enter research title">
                            </div>

                            <div class="form-group">
                                <label>Upload PDF</label>
                                <input type="file" id="research-file" accept="application/pdf">
                            </div>

                            <button class="btn btn-primary" id="upload-research-btn">
                                <i class="fas fa-upload"></i> Upload Paper
                            </button>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-book"></i> Uploaded Papers</h3>
                            <div id="research-list">
                                <p style="color:#7f8c8d;">No research papers uploaded yet.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Notes Upload Section -->
                    <div id="notes-section" class="hidden">
                        <div class="lock-overlay" id="notes-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Notes Upload Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;" id="goto-payment-from-notes">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-book-open"></i>
                            <h2>Notes Upload & Share</h2>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-upload"></i> Upload Notes</h3>

                            <div class="form-group">
                                <label>Notes Title</label>
                                <input type="text" id="notes-title" placeholder="Enter notes title">
                            </div>

                            <div class="form-group">
                                <label>Upload File (PDF/Image)</label>
                                <input type="file" id="notes-file">
                            </div>

                            <button class="btn btn-primary" id="upload-notes-btn">
                                <i class="fas fa-upload"></i> Upload Notes
                            </button>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-book"></i> Shared Notes</h3>
                            <div id="notes-list">
                                <p style="color:#7f8c8d;">No notes uploaded yet.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Previous Year Papers Section -->
                    <div id="previous-section" class="hidden">
                        <div class="lock-overlay" id="previous-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Previous Papers Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;"
                                    id="goto-payment-from-previous">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-folder-open"></i>
                            <h2>Previous Year Papers</h2>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-upload"></i> Upload Paper</h3>

                            <div class="form-group">
                                <label>Paper Title</label>
                                <input type="text" id="previous-title" placeholder="Enter paper title">
                            </div>

                            <div class="form-group">
                                <label>Upload PDF</label>
                                <input type="file" id="previous-file" accept="application/pdf">
                            </div>

                            <button class="btn btn-primary" id="upload-previous-btn">
                                <i class="fas fa-upload"></i> Upload Paper
                            </button>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-book"></i> Uploaded Papers</h3>
                            <div id="previous-list">
                                <p style="color:#7f8c8d;">No previous papers uploaded yet.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Syllabus Manager Section -->
                    <div id="syllabus-section" class="hidden">
                        <div class="lock-overlay" id="syllabus-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Syllabus Manager Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <button class="btn btn-primary" id="goto-payment-from-syllabus">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-list"></i>
                            <h2>Syllabus Manager</h2>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-plus"></i> Add New Topic</h3>
                            <div class="form-group">
                                <label>Subject</label>
                                <input type="text" placeholder="Enter subject">
                            </div>
                            <div class="form-group">
                                <label>Topic</label>
                                <input type="text" placeholder="Enter topic name">
                            </div>
                            <button class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Topic
                            </button>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-book"></i> Saved Topics</h3>
                            <p style="color:#7f8c8d;">No syllabus topics added yet.</p>
                        </div>
                    </div>

                    <!-- Calendar Section -->
                    <div id="calendar-section" class="hidden">
                        <div class="lock-overlay" id="calendar-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Calendar Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <button class="btn btn-primary" id="goto-payment-from-calendar">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-calendar-alt"></i>
                            <h2>Teaching Calendar</h2>
                        </div>

                        <div class="card">
                            <div
                                style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                                <button class="btn btn-secondary" id="prev-month">‹ Prev</button>
                                <h3 id="calendar-month"></h3>
                                <button class="btn btn-secondary" id="next-month">Next ›</button>
                            </div>

                            <div id="calendar-grid" style="display:grid; grid-template-columns:repeat(7,1fr); gap:8px;">
                            </div>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-list"></i> Events</h3>
                            <div id="event-list">
                                <p style="color:#7f8c8d;">No events added.</p>
                            </div>
                        </div>
                    </div>



                    <!-- Python Test Service Section -->
                    <div id="python-service-section" class="hidden">
                        <div class="lock-overlay" id="python-service-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Python Service Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to access Python Test Service.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;" id="goto-payment-from-python">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fab fa-python"></i>
                            <h2>Python Test Service</h2>
                        </div>

                        <div class="card">
                            <h3><i class="fas fa-folder"></i> Transloter desbords</h3>
                            <p>Transloter desbords contain this files .</p>
                        </div>
                    </div>

                    <!-- Calculator Section -->
                    <div id="calculator-section" class="hidden">
                        <div class="lock-overlay" id="calculator-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Calculator Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <button class="btn btn-primary" id="goto-payment-from-calculator">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-calculator"></i>
                            <h2>Calculator</h2>
                        </div>

                        <div class="card">
                            <input type="text" id="calc-display" style="width:100%; padding:10px; font-size:1.2rem;"
                                readonly>

                            <div style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:10px;">
                                <button onclick="calc('7')">7</button>
                                <button onclick="calc('8')">8</button>
                                <button onclick="calc('9')">9</button>
                                <button onclick="calc('/')">÷</button>

                                <button onclick="calc('4')">4</button>
                                <button onclick="calc('5')">5</button>
                                <button onclick="calc('6')">6</button>
                                <button onclick="calc('*')">×</button>

                                <button onclick="calc('1')">1</button>
                                <button onclick="calc('2')">2</button>
                                <button onclick="calc('3')">3</button>
                                <button onclick="calc('-')">−</button>

                                <button onclick="calc('0')">0</button>
                                <button onclick="calc('.')">.</button>
                                <button onclick="calculate()">=</button>
                                <button onclick="calc('+')">+</button>

                                <button onclick="clearCalc()" style="grid-column:span 4;">Clear</button>
                            </div>
                        </div>
                    </div>

                    <!-- Email Alerts Section -->
                    <div id="alerts-section" class="hidden">
                        <div class="lock-overlay" id="alerts-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Email Alerts Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <button class="btn btn-primary" id="goto-payment-from-alerts">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-envelope"></i>
                            <h2>Email / SMS Alerts</h2>
                        </div>
                        <form id="email-form">

                            <div class="card">
                                <h3><i class="fas fa-paper-plane"></i> Send Email to Student</h3>

                                <div class="form-group">
                                    <label>From (Teacher Email)</label>
                                    <input type="email" id="teacher-email" value="<%= teacher.email %>" readonly>
                                </div>

                                <div class="form-group">
                                    <label>Student Email</label>
                                    <input type="email" id="student-email" placeholder="Enter student email">
                                </div>

                                <div class="form-group">
                                    <label>Subject</label>
                                    <input type="text" id="email-subject" placeholder="Enter subject">
                                </div>

                                <div class="form-group">
                                    <label>Message</label>
                                    <textarea id="email-message" rows="4"
                                        placeholder="Write your message..."></textarea>
                                </div>

                                <button class="btn btn-primary" id="send-email-btn">
                                    <i class="fas fa-paper-plane"></i> Send Email
                                </button>
                            </div>
                        </form>

                    </div>

                    <!-- Analytics Section -->
                    <div id="analytics-section" class="hidden">
                        <div class="lock-overlay" id="analytics-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Analytics Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to access Result Sections .</p>
                                <button class="btn btn-primary" style="margin-top: 20px;"
                                    id="goto-payment-from-analytics">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-chart-bar"></i>
                            <h2>Result Sections</h2>
                        </div>

                        <!-- Professional Analytics Card -->
                        <div class="card analytics-card">
                            <h3><i class="fas fa-chart-pie"></i> Performance Analytics</h3>
                            <p>
                                View detailed analytics about your tests, student performance,
                                and engagement metrics.
                            </p>

                            <div class="analytics-table-wrapper">
                                <table class="analytics-table">
                                    <thead>
                                        <tr>
                                            <th>Rank</th>
                                            <th>Test Name</th>
                                            <th>Subject</th>
                                            <th>Students</th>
                                            <th>Avg Score</th>
                                            <th>Time</th>
                                            <th>Details</th>
                                        </tr>
                                    </thead>
                                    <tbody id="analytics-cards-container">
                                        <tr>
                                            <td colspan="7" class="analytics-loading">
                                                <i class="fas fa-spinner fa-spin"></i> Loading analytics...
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>


                    <!-- Settings Section -->
                    <div id="settings-section" class="hidden">
                        <div class="lock-overlay" id="settings-lock">
                            <div class="lock-message">
                                <div class="lock-icon-large">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3>Settings Locked</h3>
                                <p>This feature is only available after payment.</p>
                                <p>Please complete the payment to access settings.</p>
                                <button class="btn btn-primary" style="margin-top: 20px;"
                                    id="goto-payment-from-settings">
                                    <i class="fas fa-credit-card"></i> Go to Payment
                                </button>
                            </div>
                        </div>

                        <div class="page-title">
                            <i class="fas fa-cog"></i>
                            <h2>Settings</h2>
                        </div>

                        <div class="settings-container">
                            <!-- Profile Settings -->
                            <div class="card">
                                <h3><i class="fas fa-user-circle"></i> Profile Settings</h3>
                                <div class="profile-settings">
                                    <div class="profile-image-container">
                                        <img id="profile-image" class="profile-image" src="" alt="Profile Photo">
                                        <button class="profile-upload-btn" id="uploadProfileBtn">
                                            <i class="fas fa-camera"></i>
                                        </button>
                                        <input type="file" id="profile-photo-input" class="file-input" accept="image/*">
                                    </div>
                                    <div class="profile-info">
                                        <p><strong>Name:</strong>
                                            <%= teacher.name %>
                                        </p>
                                        <p><strong>Email:</strong>
                                            <%= teacher.email %>
                                        </p>

                                        <p><strong>Account Type:</strong> <span id="settings-account-type">Free
                                                Account</span></p>
                                    </div>
                                </div>
                            </div>

                            <!-- Account Settings -->
                            <div class="card">
                                <h3><i class="fas fa-user-cog"></i> Account Settings</h3>
                                <form class="settings-form">
                                    <div class="form-group">
                                        <label for="display-name">Display Name</label>
                                        <input type="text" id="display-name" value="<%= teacher.name %>">
                                    </div>

                                    <div class="form-group">
                                        <label for="email">Email Address</label>
                                        <input type="email" id="email" value="<%= teacher.email %>">
                                    </div>

                                    <div class="form-group">
                                        <label for="timezone">Timezone</label>
                                        <select id="timezone">
                                            <option value="UTC-5">Eastern Time (ET)</option>
                                            <option value="UTC-6">Central Time (CT)</option>
                                            <option value="UTC-7">Mountain Time (MT)</option>
                                            <option value="UTC-8" selected>Pacific Time (PT)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="btn btn-primary" id="save-profile-btn">
                                        <i class="fas fa-save"></i> Save Profile Changes
                                    </button>
                                </form>
                            </div>

                            <!-- Notification Settings -->
                            <div class="card">
                                <h3><i class="fas fa-bell"></i> Notification Settings</h3>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="email-notifications" checked>
                                        <span>Email Notifications</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="test-reminders" checked>
                                        <span>Test Reminders</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="feature-updates">
                                        <span>New Feature Announcements</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="student-submissions">
                                        <span>Student Submission Alerts</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Theme Settings -->
                            <div class="card">
                                <h3><i class="fas fa-palette"></i> Theme Settings</h3>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="theme" value="light" checked>
                                        <span>Light Theme</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="theme" value="dark">
                                        <span>Dark Theme</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="theme" value="auto">
                                        <span>Auto (Follow System)</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Create Test -->
    <div class="modal" id="createTestModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create Test Questions</h2>
                <button class="close-btn" onclick="closeModal('createTestModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="question-section">
                    <h3>👇🏻👇🏻 Create Test Questions 👇🏻👇🏻</h3>

                    <div class="question-list" id="questionList">
                        <!-- Questions will be added here -->
                        <div class="empty-state" style="padding: 20px;">
                            <i class="fas fa-question-circle"></i>
                            <p>No questions added yet. Add your first question below.</p>
                        </div>
                    </div>

                    <div class="question-form">
                        <h3><b>Add New Question</b></h3>

                        <div class="form-group">
                            <label><b>Question Type</b></label>
                            <select class="form-control" id="questionType">
                                <option value="multiple-choice">Multiple Choice (MCQ)</option>
                                <option value="true-false">True/False</option>
                                <option value="short-answer">Short Answer</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label><b>Write Your Question ✍️✍️</b></label>
                            <textarea class="form-control" id="questionText" rows="3"
                                placeholder="Enter your question..."></textarea>
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                            <button type="button" class="btn btn-secondary" onclick="translateAuto()">
                                <i class="fas fa-language"></i> Auto Translate
                            </button>
                        </div>


                        <div id="optionsContainer" style="display: block;">
                            <div class="form-group">
                                <label><b>Options (For MCQ)</b></label>
                                <div id="optionsList">
                                    <div class="question-option-input">
                                        <input type="radio" name="correctOption" value="0">
                                        <input type="text" class="form-control" placeholder="Option A" id="option0">
                                    </div>
                                    <div class="question-option-input">
                                        <input type="radio" name="correctOption" value="1">
                                        <input type="text" class="form-control" placeholder="Option B" id="option1">
                                    </div>
                                    <div class="question-option-input">
                                        <input type="radio" name="correctOption" value="2">
                                        <input type="text" class="form-control" placeholder="Option C" id="option2">
                                    </div>
                                    <div class="question-option-input">
                                        <input type="radio" name="correctOption" value="3">
                                        <input type="text" class="form-control" placeholder="Option D" id="option3">
                                    </div>
                                </div>
                                <button type="button" class="btn" id="addOptionBtn"
                                    style="margin-top: 10px; background-color: #f0f0f0;">
                                    <i class="fas fa-plus"></i> Add More Options
                                </button>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Marks for this Question *</label>
                                <input type="number" class="form-control" id="questionPoints" value="1" min="1">
                            </div>
                            <div class="form-group">
                                <label>Question Difficulty</label>
                                <select class="form-control" id="questionDifficulty">
                                    <option value="Easy">Easy</option>
                                    <option value="Medium" selected>Medium</option>
                                    <option value="Hard">Hard</option>
                                </select>
                            </div>
                        </div>

                        <button class="btn btn-primary" id="addQuestionBtn" style="width: 100%;">
                            <i class="fas fa-plus"></i> Add Question to Test
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('createTestModal')">Cancel</button>
                <button class="btn btn-success" id="saveQuestionsBtn">
                    <i class="fas fa-save"></i> Save All Questions
                </button>
            </div>
        </div>
    </div>
    <!-- QR Popup Modal -->
    <div id="qrModal"
        style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:9999; align-items:center; justify-content:center;">
        <div style="background:white; padding:20px; border-radius:10px; width:320px; text-align:center;">

            <h3>Test Share</h3>

            <canvas id="qrCanvas"></canvas>

            <input id="testLink" type="text" readonly style="width:100%; margin-top:10px; padding:6px;" />

            <div style="margin-top:15px; display:flex; gap:8px; flex-wrap:wrap; justify-content:center;">
                <button id="copyBtn">Copy</button>
                <button id="downloadBtn">Download</button>
                <button id="whatsappBtn">Send</button>
                <button id="closeQrBtn">Close</button>
            </div>

        </div>
    </div>
    <!-- AI Ask Floating Button -->
    <div id="aiAskBtn">
        <i class="fas fa-robot"></i>
    </div>

    <!-- AI Ask Chat Box -->
    <div id="aiAskBox">
        <div class="ai-header">
            <span>AI Ask</span>
            <button id="closeAiAsk">×</button>
        </div>
        <div class="ai-messages" id="aiMessages">
            <div class="ai-msg">Hello! Test se related kuch bhi pucho.</div>
        </div>
        <div class="ai-input">
            <input type="text" id="aiInput" placeholder="Apna sawal likho...">
            <button id="aiSend">Send</button>
        </div>
    </div>

    <script src="/js/teacher-advance-version/desbord.js"></script>
</body>

</html>