const questions =[{
"num": 1,
"question_en": "If ALPHA is coded as 1-12-16-8-1, how is BETA coded?",
"question_hi": "यदि ALPHA को 1-12-16-8-1 के रूप में कूटबद्ध किया जाता है, तो BETA को कैसे कूटबद्ध किया जाएगा?",
"options_en": ["2-5-20-1", "2-5-19-1", "2-5-21-1", "2-5-22-1"],
"options_hi": ["2-5-20-1", "2-5-19-1", "2-5-21-1", "2-5-22-1"],
"answer_en": "2-5-20-1",
"answer_hi": "2-5-20-1"
},
{
"num": 2,
"question_en": "What is the unit of electrical capacitance?",
"question_hi": "विद्युत धारिता की इकाई क्या है?",
"options_en": ["Farad", "Henry", "Ohm", "Siemens"],
"options_hi": ["फैरड", "हेनरी", "ओम", "सीमेंस"],
"answer_en": "Farad",
"answer_hi": "फैरड"
},
{
"num": 3,
"question_en": "Which of these is NOT a type of bearing?",
"question_hi": "निम्नलिखित में से कौन सा बेयरिंग का प्रकार नहीं है?",
"options_en": ["Ball bearing", "Roller bearing", "Needle bearing", "Gear bearing"],
"options_hi": ["बॉल बेयरिंग", "रोलर बेयरिंग", "नीडल बेयरिंग", "गियर बेयरिंग"],
"answer_en": "Gear bearing",
"answer_hi": "गियर बेयरिंग"
},
{
"num": 4,
"question_en": "The first railway line in India was opened in which year?",
"question_hi": "भारत में पहली रेलवे लाइन किस वर्ष खोली गई थी?",
"options_en": ["1853", "1857", "1861", "1875"],
"options_hi": ["1853", "1857", "1861", "1875"],
"answer_en": "1853",
"answer_hi": "1853"
},
{
"num": 5,
"question_en": "Which of these welding processes uses a non-consumable tungsten electrode?",
"question_hi": "इनमें से कौन सी वेल्डिंग प्रक्रिया एक गैर-उपभोग्य टंगस्टन इलेक्ट्रोड का उपयोग करती है?",
"options_en": ["MIG", "TIG", "Arc", "Gas"],
"options_hi": ["MIG", "TIG", "आर्क", "गैस"],
"answer_en": "TIG",
"answer_hi": "TIG"
},
{
"num": 6,
"question_en": "What does PLC stand for in industrial automation?",
"question_hi": "औद्योगिक स्वचालन में PLC का क्या अर्थ है?",
"options_en": ["Programmable Logic Controller", "Power Line Communication", "Primary Load Circuit", "Process Logic Computer"],
"options_hi": ["प्रोग्रामेबल लॉजिक कंट्रोलर", "पावर लाइन कम्युनिकेशन", "प्राइमरी लोड सर्किट", "प्रोसेस लॉजिक कंप्यूटर"],
"answer_en": "Programmable Logic Controller",
"answer_hi": "प्रोग्रामेबल लॉजिक कंट्रोलर"
},
{
"num": 7,
"question_en": "What is the standard unit of pressure in the SI system?",
"question_hi": "SI प्रणाली में दबाव की मानक इकाई क्या है?",
"options_en": ["Pascal", "Bar", "PSI", "Atmosphere"],
"options_hi": ["पास्कल", "बार", "PSI", "एटमॉस्फियर"],
"answer_en": "Pascal",
"answer_hi": "पास्कल"
},
{
"num": 8,
"question_en": "The ratio of ultimate stress to allowable stress is called:",
"question_hi": "अंतिम प्रतिबल और स्वीकार्य प्रतिबल के अनुपात को कहा जाता है:",
"options_en": ["Stress ratio", "Factor of safety", "Strain factor", "Elastic limit"],
"options_hi": ["प्रतिबल अनुपात", "सुरक्षा कारक", "विकृति कारक", "प्रत्यास्थ सीमा"],
"answer_en": "Factor of safety",
"answer_hi": "सुरक्षा कारक"
},
{
"num": 9,
"question_en": "Which of these is NOT a primary color of light?",
"question_hi": "निम्नलिखित में से कौन सा प्रकाश का प्राथमिक रंग नहीं है?",
"options_en": ["Red", "Green", "Blue", "Yellow"],
"options_hi": ["लाल", "हरा", "नीला", "पीला"],
"answer_en": "Yellow",
"answer_hi": "पीला"
},
{
"num": 10,
"question_en": "In a 3-phase system, what is the phase difference between each phase?",
"question_hi": "3-फेज सिस्टम में, प्रत्येक फेज के बीच फेज अंतर क्या है?",
"options_en": ["60 degrees", "90 degrees", "120 degrees", "180 degrees"],
"options_hi": ["60 डिग्री", "90 डिग्री", "120 डिग्री", "180 डिग्री"],
"answer_en": "120 degrees",
"answer_hi": "120 डिग्री"
},
{
"num": 11,
"question_en": "Which instrument is used to measure the speed of a rotating shaft?",
"question_hi": "घूर्णन शाफ्ट की गति मापने के लिए किस उपकरण का उपयोग किया जाता है?",
"options_en": ["Manometer", "Tachometer", "Hydrometer", "Pyrometer"],
"options_hi": ["मैनोमीटर", "टैकोमीटर", "हाइड्रोमीटर", "पायरोमीटर"],
"answer_en": "Tachometer",
"answer_hi": "टैकोमीटर"
},
{
"num": 12,
"question_en": "What is the purpose of a flywheel in an engine?",
"question_hi": "इंजन में फ्लाईव्हील का उद्देश्य क्या है?",
"options_en": ["To increase speed", "To store energy and smooth out fluctuations", "To reduce friction", "To start the engine"],
"options_hi": ["गति बढ़ाने के लिए", "ऊर्जा संग्रहीत करने और उतार-चढ़ाव को सुचारू करने के लिए", "घर्षण कम करने के लिए", "इंजन शुरू करने के लिए"],
"answer_en": "To store energy and smooth out fluctuations",
"answer_hi": "ऊर्जा संग्रहीत करने और उतार-चढ़ाव को सुचारू करने के लिए"
},
{
"num": 13,
"question_en": "Which material is commonly used for making permanent magnets?",
"question_hi": "स्थायी चुंबक बनाने के लिए आमतौर पर किस सामग्री का उपयोग किया जाता है?",
"options_en": ["Soft iron", "Steel", "Alnico", "Copper"],
"options_hi": ["मृदु लोहा", "इस्पात", "अल्निको", "तांबा"],
"answer_en": "Alnico",
"answer_hi": "अल्निको"
},
{
"num": 14,
"question_en": "Which railway zone headquarters is located in Mumbai?",
"question_hi": "किस रेलवे ज़ोन का मुख्यालय मुंबई में स्थित है?",
"options_en": ["Western Railway", "Central Railway", "Southern Railway", "Northern Railway"],
"options_hi": ["पश्चिम रेलवे", "मध्य रेलवे", "दक्षिण रेलवे", "उत्तर रेलवे"],
"answer_en": "Western Railway",
"answer_hi": "पश्चिम रेलवे"
},
{
"num": 15,
"question_en": "The process of adding carbon to low carbon steel is called:",
"question_hi": "कम कार्बन स्टील में कार्बन मिलाने की प्रक्रिया को कहा जाता है:",
"options_en": ["Carburizing", "Annealing", "Tempering", "Normalizing"],
"options_hi": ["कार्बरीकरण", "ऐनिलिंग", "टेम्परिंग", "नॉर्मलाइजिंग"],
"answer_en": "Carburizing",
"answer_hi": "कार्बरीकरण"
},
{
"num": 16,
"question_en": "In a beam, the point where bending moment changes sign is called:",
"question_hi": "एक बीम में, वह बिंदु जहां बंकन आघूर्ण चिह्न बदलता है, कहलाता है:",
"options_en": ["Point of contraflexure", "Point of inflection", "Neutral point", "Both A and B"],
"options_hi": ["विपरीत वक्रता बिंदु", "विभक्ति बिंदु", "तटस्थ बिंदु", "A और B दोनों"],
"answer_en": "Both A and B",
"answer_hi": "A और B दोनों"
},
{
"num": 17,
"question_en": "Which type of gear has teeth cut parallel to the axis?",
"question_hi": "किस प्रकार के गियर के दांत अक्ष के समानांतर कटे होते हैं?",
"options_en": ["Spur gear", "Helical gear", "Bevel gear", "Worm gear"],
"options_hi": ["स्पर गियर", "हेलिकल गियर", "बेवल गियर", "वर्म गियर"],
"answer_en": "Spur gear",
"answer_hi": "स्पर गियर"
},
{
"num": 18,
"question_en": "What is the normal human body temperature in Celsius?",
"question_hi": "सामान्य मानव शरीर का तापमान सेल्सियस में क्या है?",
"options_en": ["36.5°C", "37°C", "37.5°C", "38°C"],
"options_hi": ["36.5°C", "37°C", "37.5°C", "38°C"],
"answer_en": "37°C",
"answer_hi": "37°C"
},
{
"num": 19,
"question_en": "Which of the following is a renewable source of energy?",
"question_hi": "निम्नलिखित में से कौन सा ऊर्जा का नवीकरणीय स्रोत है?",
"options_en": ["Coal", "Natural gas", "Solar", "Nuclear"],
"options_hi": ["कोयला", "प्राकृतिक गैस", "सौर", "परमाणु"],
"answer_en": "Solar",
"answer_hi": "सौर"
},
{
"num": 20,
"question_en": "A resistor with color bands brown, black, red, gold has what value?",
"question_hi": "भूरे, काले, लाल, सोने के रंग की बैंड वाले रोकनेवाला का क्या मूल्य है?",
"options_en": ["100Ω ±5%", "1kΩ ±5%", "10kΩ ±5%", "100kΩ ±5%"],
"options_hi": ["100Ω ±5%", "1kΩ ±5%", "10kΩ ±5%", "100kΩ ±5%"],
"answer_en": "1kΩ ±5%",
"answer_hi": "1kΩ ±5%"
},
{
"num": 21,
"question_en": "Which law states that pressure applied to a confined fluid is transmitted equally in all directions?",
"question_hi": "कौन सा नियम कहता है कि एक सीमित तरल पर लगाया गया दबाव सभी दिशाओं में समान रूप से संचरित होता है?",
"options_en": ["Bernoulli's principle", "Pascal's law", "Archimedes' principle", "Boyle's law"],
"options_hi": ["बर्नौली का सिद्धांत", "पास्कल का नियम", "आर्किमिडीज का सिद्धांत", "बॉयल का नियम"],
"answer_en": "Pascal's law",
"answer_hi": "पास्कल का नियम"
},
{
"num": 22,
"question_en": "Which component is used to store electrical charge temporarily?",
"question_hi": "विद्युत आवेश को अस्थायी रूप से संग्रहीत करने के लिए किस घटक का उपयोग किया जाता है?",
"options_en": ["Resistor", "Inductor", "Capacitor", "Transistor"],
"options_hi": ["रोकनेवाला", "प्रारंभ करनेवाला", "संधारित्र", "ट्रांजिस्टर"],
"answer_en": "Capacitor",
"answer_hi": "संधारित्र"
},
{
"num": 23,
"question_en": "What is the unit of luminous intensity?",
"question_hi": "ज्योति तीव्रता की इकाई क्या है?",
"options_en": ["Lumen", "Candela", "Lux", "Watt"],
"options_hi": ["लुमेन", "कैंडेला", "लक्स", "वाट"],
"answer_en": "Candela",
"answer_hi": "कैंडेला"
},
{
"num": 24,
"question_en": "The metal used in making precision instruments like thermostats is:",
"question_hi": "थर्मोस्टैट जैसे सटीक उपकरण बनाने में प्रयुक्त धातु है:",
"options_en": ["Invar", "Steel", "Copper", "Aluminum"],
"options_hi": ["इनवर", "इस्पात", "तांबा", "एल्यूमीनियम"],
"answer_en": "Invar",
"answer_hi": "इनवर"
},
{
"num": 25,
"question_en": "In a carnot engine, the efficiency depends on:",
"question_hi": "कार्नोट इंजन में, दक्षता निर्भर करती है:",
"options_en": ["Working substance", "Temperatures of source and sink", "Pressure", "Volume"],
"options_hi": ["कार्यकारी पदार्थ", "स्रोत और सिंक के तापमान", "दबाव", "आयतन"],
"answer_en": "Temperatures of source and sink",
"answer_hi": "स्रोत और सिंक के तापमान"
},
{
"num": 26,
"question_en": "Which of the following is NOT a type of fits?",
"question_hi": "निम्नलिखित में से कौन सा फिट का प्रकार नहीं है?",
"options_en": ["Clearance fit", "Interference fit", "Transition fit", "Friction fit"],
"options_hi": ["क्लीयरेंस फिट", "इंटरफेरेंस फिट", "ट्रांजिशन फिट", "फ्रिक्शन फिट"],
"answer_en": "Friction fit",
"answer_hi": "फ्रिक्शन फिट"
},
{
"num": 27,
"question_en": "What is the chemical symbol for gold?",
"question_hi": "सोने का रासायनिक प्रतीक क्या है?",
"options_en": ["Ag", "Au", "Pb", "Fe"],
"options_hi": ["Ag", "Au", "Pb", "Fe"],
"answer_en": "Au",
"answer_hi": "Au"
},
{
"num": 28,
"question_en": "Which railway project aims to connect India's major cities with high-speed rail?",
"question_hi": "कौन सी रेलवे परियोजना भारत के प्रमुख शहरों को हाई-स्पीड रेल से जोड़ने का लक्ष्य रखती है?",
"options_en": ["Metro Rail", "Bullet Train", "Rajdhani Express", "Shatabdi Express"],
"options_hi": ["मेट्रो रेल", "बुलेट ट्रेन", "राजधानी एक्सप्रेस", "शताब्दी एक्सप्रेस"],
"answer_en": "Bullet Train",
"answer_hi": "बुलेट ट्रेन"
},
{
"num": 29,
"question_en": "The process of hardening the surface of steel by heating and then quenching is called:",
"question_hi": "स्टील की सतह को गर्म करके और फिर तेजी से ठंडा करके कठोर बनाने की प्रक्रिया को कहा जाता है:",
"options_en": ["Case hardening", "Tempering", "Annealing", "Normalizing"],
"options_hi": ["केस हार्डनिंग", "टेम्परिंग", "ऐनिलिंग", "नॉर्मलाइजिंग"],
"answer_en": "Case hardening",
"answer_hi": "केस हार्डनिंग"
},
{
"num": 30,
"question_en": "Which of these materials is the best conductor of electricity?",
"question_hi": "इनमें से कौन सी सामग्री बिजली की सबसे अच्छी संवाहक है?",
"options_en": ["Silver", "Copper", "Gold", "Aluminum"],
"options_hi": ["चांदी", "तांबा", "सोना", "एल्यूमीनियम"],
"answer_en": "Silver",
"answer_hi": "चांदी"
},
{
"num": 31,
"question_en": "What does LED stand for?",
"question_hi": "LED का क्या अर्थ है?",
"options_en": ["Light Emitting Diode", "Low Energy Device", "Laser Emitting Device", "Light Energy Detector"],
"options_hi": ["लाइट एमिटिंग डायोड", "लो एनर्जी डिवाइस", "लेजर एमिटिंग डिवाइस", "लाइट एनर्जी डिटेक्टर"],
"answer_en": "Light Emitting Diode",
"answer_hi": "लाइट एमिटिंग डायोड"
},
{
"num": 32,
"question_en": "Which river is known as the 'Sorrow of Bengal'?",
"question_hi": "किस नदी को 'बंगाल का शोक' कहा जाता है?",
"options_en": ["Ganga", "Brahmaputra", "Damodar", "Hooghly"],
"options_hi": ["गंगा", "ब्रह्मपुत्र", "दामोदर", "हुगली"],
"answer_en": "Damodar",
"answer_hi": "दामोदर"
},
{
"num": 33,
"question_en": "Which organization is responsible for railway safety in India?",
"question_hi": "भारत में रेलवे सुरक्षा के लिए कौन सा संगठन जिम्मेदार है?",
"options_en": ["RDSO", "CRS", "Railway Board", "Commission of Railway Safety"],
"options_hi": ["आरडीएसओ", "सीआरएस", "रेलवे बोर्ड", "रेलवे सुरक्षा आयोग"],
"answer_en": "Commission of Railway Safety",
"answer_hi": "रेलवे सुरक्षा आयोग"
},
{
"num": 34,
"question_en": "Which of these is a non-destructive testing method?",
"question_hi": "निम्नलिखित में से कौन सी एक अविनाशी परीक्षण विधि है?",
"options_en": ["Tensile test", "Impact test", "Ultrasonic testing", "Hardness test"],
"options_hi": ["तन्य परीक्षण", "प्रभाव परीक्षण", "अल्ट्रासोनिक परीक्षण", "कठोरता परीक्षण"],
"answer_en": "Ultrasonic testing",
"answer_hi": "अल्ट्रासोनिक परीक्षण"
},
{
"num": 35,
"question_en": "Which of the following is a greenhouse gas?",
"question_hi": "निम्नलिखित में से कौन सी एक ग्रीनहाउस गैस है?",
"options_en": ["Oxygen", "Nitrogen", "Carbon dioxide", "Hydrogen"],
"options_hi": ["ऑक्सीजन", "नाइट्रोजन", "कार्बन डाइऑक्साइड", "हाइड्रोजन"],
"answer_en": "Carbon dioxide",
"answer_hi": "कार्बन डाइऑक्साइड"
},
{
"num": 36,
"question_en": "What is the full form of CFL?",
"question_hi": "CFL का पूर्ण रूप क्या है?",
"options_en": ["Compact Fluorescent Lamp", "Central Fluorescent Light", "Condensed Filament Lamp", "Cool Fluorescent Light"],
"options_hi": ["कॉम्पैक्ट फ्लोरोसेंट लैंप", "सेंट्रल फ्लोरोसेंट लाइट", "कंडेंस्ड फिलामेंट लैंप", "कूल फ्लोरोसेंट लाइट"],
"answer_en": "Compact Fluorescent Lamp",
"answer_hi": "कॉम्पैक्ट फ्लोरोसेंट लैंप"
},
{
"num": 37,
"question_en": "The process of converting AC to DC is called:",
"question_hi": "AC को DC में बदलने की प्रक्रिया को कहा जाता है:",
"options_en": ["Amplification", "Rectification", "Modulation", "Oscillation"],
"options_hi": ["प्रवर्धन", "दिष्टकारी", "मॉडुलन", "दोलन"],
"answer_en": "Rectification",
"answer_hi": "दिष्टकारी"
},
{
"num": 38,
"question_en": "Which law relates the voltage, current and resistance in a circuit?",
"question_hi": "कौन सा नियम एक सर्किट में वोल्टेज, करंट और प्रतिरोध से संबंधित है?",
"options_en": ["Faraday's law", "Ohm's law", "Kirchhoff's law", "Lenz's law"],
"options_hi": ["फैराडे का नियम", "ओम का नियम", "किरचॉफ का नियम", "लेंज का नियम"],
"answer_en": "Ohm's law",
"answer_hi": "ओम का नियम"
},
{
"num": 39,
"question_en": "What is the SI unit of frequency?",
"question_hi": "आवृत्ति की SI इकाई क्या है?",
"options_en": ["Hertz", "Watt", "Joule", "Newton"],
"options_hi": ["हर्ट्ज", "वाट", "जूल", "न्यूटन"],
"answer_en": "Hertz",
"answer_hi": "हर्ट्ज"
},
{
"num": 40,
"question_en": "Which of these is used as a lubricant in heavy machinery?",
"question_hi": "इनमें से किसका उपयोग भारी मशीनरी में स्नेहक के रूप में किया जाता है?",
"options_en": ["Graphite", "Charcoal", "Silica", "Alumina"],
"options_hi": ["ग्रेफाइट", "चारकोल", "सिलिका", "अल्यूमिना"],
"answer_en": "Graphite",
"answer_hi": "ग्रेफाइट"
},
{
"num": 41,
"question_en": "Which of these metals is liquid at room temperature?",
"question_hi": "निम्नलिखित में से कौन सी धातु कमरे के तापमान पर तरल होती है?",
"options_en": ["Mercury", "Lead", "Tin", "Zinc"],
"options_hi": ["पारा", "सीसा", "टिन", "जिंक"],
"answer_en": "Mercury",
"answer_hi": "पारा"
},
{
"num": 42,
"question_en": "What is the function of a transformer?",
"question_hi": "ट्रांसफार्मर का कार्य क्या है?",
"options_en": ["To convert AC to DC", "To step up or step down voltage", "To store electrical energy", "To regulate current"],
"options_hi": ["AC को DC में बदलने के लिए", "वोल्टेज बढ़ाने या घटाने के लिए", "विद्युत ऊर्जा संग्रहीत करने के लिए", "वर्तमान को नियंत्रित करने के लिए"],
"answer_en": "To step up or step down voltage",
"answer_hi": "वोल्टेज बढ़ाने या घटाने के लिए"
},
{
"num": 43,
"question_en": "Which of these is NOT a part of the diesel engine fuel system?",
"question_hi": "निम्नलिखित में से कौन सा डीजल इंजन ईंधन प्रणाली का हिस्सा नहीं है?",
"options_en": ["Fuel pump", "Injector", "Carburetor", "Fuel filter"],
"options_hi": ["ईंधन पंप", "इंजेक्टर", "कार्बोरेटर", "ईंधन फिल्टर"],
"answer_en": "Carburetor",
"answer_hi": "कार्बोरेटर"
},
{
"num": 44,
"question_en": "The first woman to win a Nobel Prize was:",
"question_hi": "नोबेल पुरस्कार जीतने वाली पहली महिला थी:",
"options_en": ["Marie Curie", "Mother Teresa", "Rosalind Franklin", "Ada Lovelace"],
"options_hi": ["मैरी क्यूरी", "मदर टेरेसा", "रोजालिंड फ्रैंकलिन", "एडा लवलेस"],
"answer_en": "Marie Curie",
"answer_hi": "मैरी क्यूरी"
},
{
"num": 45,
"question_en": "Which of these is a vector quantity?",
"question_hi": "निम्नलिखित में से कौन सी एक सदिश राशि है?",
"options_en": ["Mass", "Time", "Velocity", "Temperature"],
"options_hi": ["द्रव्यमान", "समय", "वेग", "तापमान"],
"answer_en": "Velocity",
"answer_hi": "वेग"
},
{
"num": 46,
"question_en": "What is the chemical formula of water?",
"question_hi": "पानी का रासायनिक सूत्र क्या है?",
"options_en": ["H2O", "HO2", "H2O2", "OH"],
"options_hi": ["H2O", "HO2", "H2O2", "OH"],
"answer_en": "H2O",
"answer_hi": "H2O"
},
{
"num": 47,
"question_en": "Which railway station in India has the longest platform?",
"question_hi": "भारत में किस रेलवे स्टेशन का प्लेटफॉर्म सबसे लंबा है?",
"options_en": ["Howrah", "Gorakhpur", "Kharagpur", "Chennai Central"],
"options_hi": ["हावड़ा", "गोरखपुर", "खड़गपुर", "चेन्नई सेंट्रल"],
"answer_en": "Gorakhpur",
"answer_hi": "गोरखपुर"
},
{
"num": 48,
"question_en": "Which of the following is a good insulator of electricity?",
"question_hi": "निम्नलिखित में से कौन बिजली का एक अच्छा इन्सुलेटर है?",
"options_en": ["Copper", "Rubber", "Silver", "Aluminum"],
"options_hi": ["तांबा", "रबर", "चांदी", "एल्यूमीनियम"],
"answer_en": "Rubber",
"answer_hi": "रबर"
},
{
"num": 49,
"question_en": "What is the value of π (pi) approximately?",
"question_hi": "π (पाई) का मान लगभग क्या है?",
"options_en": ["3.14", "3.41", "2.71", "1.61"],
"options_hi": ["3.14", "3.41", "2.71", "1.61"],
"answer_en": "3.14",
"answer_hi": "3.14"
},
{
"num": 50,
"question_en": "Which country has the longest railway network in the world?",
"question_hi": "दुनिया में सबसे लंबा रेलवे नेटवर्क किस देश का है?",
"options_en": ["China", "India", "United States", "Russia"],
"options_hi": ["चीन", "भारत", "संयुक्त राज्य अमेरिका", "रूस"],
"answer_en": "United States",
"answer_hi": "संयुक्त राज्य अमेरिका"
}];



// --------------------------- GLOBAL VARS -----------------------------
// --------------------------- GLOBAL VARS -----------------------------
let currentQuestion = 0;
let language = "en";
let timeLeft = 60 * 60; 
let timerInterval;

// ----------------- Load Question -----------------
function loadQuestion(index) {
    const q = questions[index];
    if (!q) return; //  undefined error fix

    document.getElementById("question").textContent =
        `${q.num}. ${language === "en" ? q.question_en : q.question_hi}`;

    document.getElementById("questionCounter").textContent =
        `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    const options = language === "en" ? q.options_en : q.options_hi;

    options.forEach(option => {
        const isSelected = q.selected === option;

        const div = document.createElement("div");
        div.className = "option-box";

        div.style = `
            border: 2px solid ${isSelected ? "#007bff" : "#ccc"};
            background-color: ${isSelected ? "#e7f1ff" : "white"};
            padding: 10px;
            border-radius: 8px;
            margin: 6px 0;
            cursor: pointer;
        `;

        div.innerHTML = `
            <input type="radio" name="option" value="${option}" 
            ${isSelected ? "checked" : ""} style="margin-right:8px;">
            ${option}
        `;

        div.addEventListener("click", () => {
            markAttempted(index, option);
            loadQuestion(index);
        });

        optionsElement.appendChild(div);
    });

    updateNavigation();
}

// ----------------- Attempt Mark -----------------
function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateNavigation();
}

// ----------------- Next / Previous -----------------
function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

// ----------------- Final Submit -----------------
function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    let attempted = 0;
    let notAttempted = 0;
    let score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;

            if (q.selected === q.answer_en || q.selected === q.answer_hi) {
                score++;
            }
        } else {
            notAttempted++;
        }

        results.push({
            question: language === "en" ? q.question_en : q.question_hi,
            selected: q.selected || "Not Answered",
            correct: language === "en" ? q.answer_en : q.answer_hi
        });
    });

    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    let viewResult = confirm("Test submitted! Do you want to view result?");
    if (viewResult) {
        window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
    }
}

// ----------------- Navigation Circles -----------------
function updateNavigation() {
    const nav = document.getElementById("circleContainer");
    nav.innerHTML = "";

    questions.forEach((q, i) => {
        let color = "gray";
        if (i === currentQuestion) color = "blue";
        else if (q.attempted) color = "green";

        nav.innerHTML += `
            <div class="circle" style="background:${color};"
            onclick="jumpToQuestion(${i})">${i + 1}</div>
        `;
    });
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

// ----------------- Timer -----------------
function startTimer() {
    const timerElement = document.getElementById("timer");

    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up!");
            submitQuiz();
        } else {
            const hours = String(Math.floor(timeLeft / 3600)).padStart(2, "0");
            const minutes = String(Math.floor((timeLeft % 3600) / 60)).padStart(2, "0");
            const seconds = String(timeLeft % 60).padStart(2, "0");

            timerElement.textContent = `Time Left: ${hours}:${minutes}:${seconds}`;
            timeLeft--;
        }
    }, 1000);
}

// ----------------- Camera & Movement Detection -----------------
let videoStream;
let movementCount = 0;

function startCamera() {
    const container = document.createElement("div");
    container.id = "camera-container";
    container.style = `
        position:fixed; top:10px; left:10px; width:130px; height:130px;
        border-radius:50%; overflow:hidden; border:3px solid red; z-index:9999;
    `;

    document.body.appendChild(container);

    const video = document.createElement("video");
    video.autoplay = true;
    video.playsinline = true;
    video.style = "width:100%; height:100%; object-fit:cover;";
    container.appendChild(video);

    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            video.srcObject = stream;
            videoStream = stream;
            detectMovement(video);
        })
        .catch(() => alert("Camera access denied!"));
}

function detectMovement(video) {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = 160;
    canvas.height = 160;

    let lastData = null;

    setInterval(() => {
        ctx.drawImage(video, 0, 0, 160, 160);
        const data = ctx.getImageData(0, 0, 160, 160);

        if (lastData) {
            let diff = 0;
            for (let i = 0; i < data.data.length; i += 4) {
                diff += Math.abs(data.data[i] - lastData.data[i]);
            }

            if (diff > 1000000) {
                movementCount++;

                if (movementCount === 1) alert("⚠ Alert 1: No movement detected!");
                if (movementCount === 2) alert("⚠ Alert 2: Head not moving!");
                if (movementCount === 3) {
                    alert("⚠ Alert 3: Restarting test...");
                    restartTest();
                }
            }
        }
        lastData = data;

    }, 2000);
}

function restartTest() {
    if (videoStream) videoStream.getTracks().forEach(t => t.stop());

    const cam = document.getElementById("camera-container");
    if (cam) cam.remove();

    movementCount = 0;
    currentQuestion = 0;
    timeLeft = 60 * 60;

    questions.forEach(q => {
        q.attempted = false;
        q.selected = null;
    });

    loadQuestion(0);
    startTimer();
    startCamera();
}

// ----------------- Page Load -----------------
window.onload = function () {
    loadQuestion(currentQuestion);
    startTimer();
    startCamera();
};